
- NASM Map file ---------------------------------------------------------------

Source file:  kernel.asm
Output file:  kernel.bat

-- Symbols --------------------------------------------------------------------

---- No Section ---------------------------------------------------------------

Value     Name
00004000  DA_32
00000098  DA_C
0000009A  DA_CR
00000092  DA_DRW
00000093  DA_DRWA
0000008E  DA_386IGate
00008000  DA_LIMIT_4K
00000089  DA_386TSS
000A0000  VRAM_ADDRESS
00001000  SystemFontLength
000000A8  GdtLen
00000008  SelectorCode32
00000010  SelectorVideo
00000020  SelectorStack
00000018  SelectorVram
00000028  SelectorFont
00000170  IdtLen
00007502  SpuriousHandler
00007503  KeyBoardHandler
00007521  mouseHandler
0000753F  timerHandler
00007559  stackOverFlowHandler
00007572  exceptionHandler
00007622  AsmConsPutCharHandler
00007684  SegCode32Len


---- Section .text ------------------------------------------------------------

Real              Virtual           Name
            8003              8003  LABEL_SYSTEM_FONT
            8003              8003  systemFont

---- Section .gdt -------------------------------------------------------------

Real              Virtual           Name
            9004              9004  LABEL_GDT
            900C              900C  LABEL_DESC_CODE32
            9014              9014  LABEL_DESC_VIDEO
            901C              901C  LABEL_DESC_VRAM
            9024              9024  LABEL_DESC_STACK
            902C              902C  LABEL_DESC_FONT
            9034              9034  LABEL_DESC_6
            903C              903C  LABEL_DESC_7
            9044              9044  LABEL_DESC_8
            904C              904C  LABEL_DESC_9
            9054              9054  LABEL_DESC_10
            90AC              90AC  GdtPtr
            90B2              90B2  LABEL_IDT
            9112              9112  LABEL_IDT.0Ch
            911A              911A  LABEL_IDT.0Dh
            91B2              91B2  LABEL_IDT.020h
            91BA              91BA  LABEL_IDT.021h
            9212              9212  LABEL_IDT.2CH
            921A              921A  LABEL_IDT.2DH
            9222              9222  IdtPtr

---- Section .s16 -------------------------------------------------------------

Real              Virtual           Name
            9228              9228  LABEL_BEGIN
            9233              9233  keystatus
            9233              9233  ComputeMemory
            923C              923C  ComputeMemory.loop
            9262              9262  LABEL_MEM_CHK_FAIL
            926B              926B  LABEL_MEM_CHK_OK
            92FA              92FA  init8259A
            933D              933D  io_delay

---- Section .s32 -------------------------------------------------------------

Real              Virtual           Name
            9344              9344  LABEL_SEG_CODE32
            935C              935C  CMain
            96E8              96E8  ?_001
            9730              9730  ?_002
            97CB              97CB  ?_003
            9849              9849  ?_004
            98A1              98A1  ?_005
            9904              9904  ?_006
            99BE              99BE  ?_007
            9A1B              9A1B  ?_008
            9A52              9A52  ?_009
            9AAA              9AAA  ?_010
            9AC6              9AC6  ?_011
            9B05              9B05  ?_012
            9B29              9B29  set_cursor
            9B8E              9B8E  isSpecialKey
            9BF1              9BF1  ?_013
            9BF8              9BF8  ?_014
            9BFD              9BFD  ?_015
            9BFF              9BFF  transferScanCode
            9C1C              9C1C  ?_016
            9C33              9C33  ?_017
            9C4D              9C4D  ?_018
            9C67              9C67  ?_019
            9C8A              9C8A  ?_020
            9C94              9C94  ?_021
            9CD6              9CD6  ?_022
            9CDD              9CDD  ?_023
            9D43              9D43  ?_024
            9D7B              9D7B  ?_025
            9D81              9D81  ?_026
            9D82              9D82  ?_027
            9D85              9D85  ?_028
            9D87              9D87  launch_console
            9F13              9F13  kill_process
            9F55              9F55  cmd_dir
            9F86              9F86  ?_029
            9F8F              9F8F  ?_030
            9FB8              9FB8  ?_031
            9FC4              9FC4  ?_032
            9FC5              9FC5  ?_033
            9FE3              9FE3  ?_034
            A000              A000  ?_035
            A094              A094  ?_036
            A0BB              A0BB  cmd_type
            A0F9              A0F9  ?_037
            A125              A125  ?_038
            A131              A131  ?_039
            A132              A132  ?_040
            A149              A149  ?_041
            A156              A156  ?_042
            A181              A181  ?_043
            A18D              A18D  ?_044
            A18E              A18E  ?_045
            A1AC              A1AC  ?_046
            A1CB              A1CB  ?_047
            A22D              A22D  ?_048
            A249              A249  ?_049
            A2BC              A2BC  ?_050
            A2F0              A2F0  ?_051
            A36B              A36B  ?_052
            A36E              A36E  ?_053
            A37C              A37C  ?_054
            A380              A380  ?_055
            A38D              A38D  ?_056
            A3D3              A3D3  cmd_mem
            A3E5              A3E5  ?_057
            A48D              A48D  cmd_cls
            A4AA              A4AA  ?_058
            A4B3              A4B3  ?_059
            A4D5              A4D5  ?_060
            A4E5              A4E5  ?_061
            A548              A548  cmd_hlt
            A637              A637  console_task
            A734              A734  ?_062
            A75A              A75A  ?_063
            A7A4              A7A4  ?_064
            A7E2              A7E2  ?_065
            A800              A800  ?_066
            A815              A815  ?_067
            A852              A852  ?_068
            A8A1              A8A1  ?_069
            A8DB              A8DB  ?_070
            A931              A931  ?_071
            A957              A957  ?_072
            A984              A984  ?_073
            A9A7              A9A7  ?_074
            A9F0              A9F0  ?_075
            A9FF              A9FF  ?_076
            AA6E              AA6E  ?_077
            AAA5              AAA5  ?_078
            AAC1              AAC1  ?_079
            AAE1              AAE1  ?_080
            AB15              AB15  cons_putstr
            AB1D              AB1D  ?_081
            AB36              AB36  ?_082
            AB46              AB46  api_linewin
            AB79              AB79  ?_083
            AB82              AB82  ?_084
            ABA6              ABA6  ?_085
            ABAD              ABAD  ?_086
            ABCC              ABCC  ?_087
            ABDF              ABDF  ?_088
            ABFB              ABFB  ?_089
            AC02              AC02  ?_090
            AC21              AC21  ?_091
            AC32              AC32  ?_092
            AC3B              AC3B  ?_093
            AC6F              AC6F  ?_094
            AC7A              AC7A  handle_keyboard
            AC88              AC88  ?_095
            ACC4              ACC4  ?_096
            AD0F              AD0F  ?_097
            AD28              AD28  ?_098
            AD3A              AD3A  ?_099
            AD40              AD40  ?_100
            AD42              AD42  kernel_api
            AD7D              AD7D  ?_101
            ADA3              ADA3  ?_102
            ADC4              ADC4  ?_103
            AE60              AE60  ?_104
            AED4              AED4  ?_105
            AF3E              AF3E  ?_106
            AF70              AF70  ?_107
            AFA3              AFA3  ?_108
            AFD3              AFD3  ?_109
            AFF4              AFF4  ?_110
            B013              B013  ?_111
            B018              B018  ?_112
            B01D              B01D  cons_putchar
            B0A7              B0A7  cons_newline
            B0C4              B0C4  ?_113
            B0CD              B0CD  ?_114
            B0D6              B0D6  ?_115
            B111              B111  ?_116
            B121              B121  ?_117
            B137              B137  ?_118
            B140              B140  ?_119
            B15E              B15E  ?_120
            B16E              B16E  ?_121
            B19D              B19D  ?_122
            B1C5              B1C5  init_screen8
            B40D              B40D  computeMousePosition
            B447              B447  ?_123
            B45A              B45A  ?_124
            B478              B478  ?_125
            B496              B496  ?_126
            B499              B499  show_mouse_info
            B544              B544  ?_127
            B547              B547  initBootInfo
            B568              B568  showString
            B584              B584  ?_128
            B5C0              B5C0  ?_129
            B5F4              B5F4  init_palette
            B611              B611  set_palette
            B63F              B63F  ?_130
            B69E              B69E  ?_131
            B6BB              B6BB  boxfill8
            B6CF              B6CF  ?_132
            B6D7              B6D7  ?_133
            B6F4              B6F4  ?_134
            B703              B703  ?_135
            B713              B713  showFont8
            B72B              B72B  ?_136
            B75D              B75D  ?_137
            B78C              B78C  ?_138
            B7BB              B7BB  ?_139
            B7EA              B7EA  ?_140
            B819              B819  ?_141
            B848              B848  ?_142
            B877              B877  ?_143
            B8A6              B8A6  ?_144
            B8A9              B8A9  ?_145
            B8B7              B8B7  init_mouse_cursor
            B8CF              B8CF  ?_146
            B8DB              B8DB  ?_147
            B90E              B90E  ?_148
            B941              B941  ?_149
            B976              B976  ?_150
            B979              B979  ?_151
            B986              B986  ?_152
            B994              B994  putblock
            B9A4              B9A4  ?_153
            B9AD              B9AD  ?_154
            B9E6              B9E6  ?_155
            B9F1              B9F1  ?_156
            BA01              BA01  intHandlerFromC
            BA5D              BA5D  charToHexVal
            BA7B              BA7B  ?_157
            BA81              BA81  ?_158
            BA83              BA83  charToHexStr
            BAD5              BAD5  intToHexStr
            BAF9              BAF9  ?_159
            BB07              BB07  ?_160
            BB1A              BB1A  ?_161
            BB4A              BB4A  ?_162
            BB5C              BB5C  ?_163
            BB5F              BB5F  ?_164
            BB73              BB73  ?_165
            BB7A              BB7A  wait_KBC_sendready
            BB80              BB80  ?_166
            BB9A              BB9A  ?_167
            BB9E              BB9E  init_keyboard
            BBCF              BBCF  enable_mouse
            BC0D              BC0D  intHandlerForMouse
            BC5C              BC5C  mouse_decode
            BC87              BC87  ?_168
            BC91              BC91  ?_169
            BCC0              BCC0  ?_170
            BCCA              BCCA  ?_171
            BCF2              BCF2  ?_172
            BD67              BD67  ?_173
            BD8D              BD8D  ?_174
            BDA4              BDA4  ?_175
            BDA9              BDA9  ?_176
            BDAB              BDAB  showMemoryInfo
            BF57              BF57  message_box
            BFFF              BFFF  make_window8
            C1A7              C1A7  make_wtitle8
            C1C8              C1C8  ?_177
            C1D0              C1D0  ?_178
            C225              C225  ?_179
            C22E              C22E  ?_180
            C255              C255  ?_181
            C265              C265  ?_182
            C275              C275  ?_183
            C279              C279  ?_184
            C2A7              C2A7  ?_185
            C2B4              C2B4  ?_186
            C2C5              C2C5  make_textbox8
            C4A9              C4A9  file_loadfile
            C4DA              C4DA  ?_187
            C4E3              C4E3  ?_188
            C50C              C50C  ?_189
            C518              C518  ?_190
            C519              C519  ?_191
            C537              C537  ?_192
            C554              C554  ?_193
            C5D5              C5D5  ?_194
            C5EE              C5EE  ?_195
            C5F8              C5F8  ?_196
            C5FC              C5FC  ?_197
            C609              C609  ?_198
            C623              C623  intHandlerForStackOverFlow
            C6DD              C6DD  intHandlerForException
            C74B              C74B  memman_init
            C778              C778  memman_total
            C78E              C78E  ?_199
            C7A1              C7A1  ?_200
            C7B4              C7B4  memman_alloc
            C7C6              C7C6  ?_201
            C846              C846  ?_202
            C84B              C84B  ?_203
            C84E              C84E  ?_204
            C861              C861  ?_205
            C863              C863  memman_free
            C873              C873  ?_206
            C88B              C88B  ?_207
            C897              C897  ?_208
            C898              C898  ?_209
            C95A              C95A  ?_210
            C964              C964  ?_211
            C9C8              C9C8  ?_212
            C9E2              C9E2  ?_213
            CA09              CA09  ?_214
            CA40              CA40  ?_215
            CA66              CA66  ?_216
            CA8F              CA8F  ?_217
            CA95              CA95  memman_alloc_4k
            CAC1              CAC1  memman_free_4k
            CAF0              CAF0  shtctl_init
            CB20              CB20  ?_218
            CB6A              CB6A  ?_219
            CB97              CB97  ?_220
            CBB1              CBB1  ?_221
            CBC1              CBC1  ?_222
            CBC3              CBC3  sheet_alloc
            CBD2              CBD2  ?_223
            CC2D              CC2D  ?_224
            CC30              CC30  ?_225
            CC42              CC42  ?_226
            CC44              CC44  sheet_setbuf
            CC6D              CC6D  sheet_updown
            CC98              CC98  ?_227
            CCA9              CCA9  ?_228
            CCD0              CCD0  ?_229
            CD03              CD03  ?_230
            CDAD              CDAD  ?_231
            CDC4              CDC4  ?_232
            CDF7              CDF7  ?_233
            CE02              CE02  ?_234
            CE99              CE99  ?_235
            CEB7              CEB7  ?_236
            CEEA              CEEA  ?_237
            CF04              CF04  ?_238
            CF0F              CF0F  ?_239
            CF46              CF46  ?_240
            CF71              CF71  ?_241
            CFF2              CFF2  ?_242
            CFFA              CFFA  sheet_refresh
            D063              D063  ?_243
            D070              D070  sheet_slide
            D17D              D17D  ?_244
            D185              D185  sheet_refreshsub
            D1A9              D1A9  ?_245
            D1BA              D1BA  ?_246
            D1D2              D1D2  ?_247
            D1EA              D1EA  ?_248
            D1F5              D1F5  ?_249
            D22D              D22D  ?_250
            D247              D247  ?_251
            D2F4              D2F4  ?_252
            D2F7              D2F7  ?_253
            D309              D309  ?_254
            D31B              D31B  ?_255
            D32B              D32B  sheet_refreshmap
            D347              D347  ?_256
            D354              D354  ?_257
            D36C              D36C  ?_258
            D384              D384  ?_259
            D38F              D38F  ?_260
            D408              D408  ?_261
            D415              D415  ?_262
            D42D              D42D  ?_263
            D445              D445  ?_264
            D44D              D44D  ?_265
            D463              D463  ?_266
            D4B9              D4B9  ?_267
            D4BC              D4BC  ?_268
            D4C7              D4C7  ?_269
            D4D6              D4D6  ?_270
            D4E8              D4E8  sheet_free
            D50F              D50F  ?_271
            D51C              D51C  init_pit
            D565              D565  ?_272
            D58A              D58A  ?_273
            D59B              D59B  timer_alloc
            D5AA              D5AA  ?_274
            D5E0              D5E0  ?_275
            D5E3              D5E3  ?_276
            D5F5              D5F5  ?_277
            D5F7              D5F7  timer_free
            D607              D607  timer_init
            D628              D628  timer_settime
            D640              D640  intHandlerForTimer
            D670              D670  ?_278
            D712              D712  ?_279
            D721              D721  ?_280
            D724              D724  ?_281
            D734              D734  getTimerController
            D73E              D73E  fifo8_init
            D785              D785  fifo8_put
            D7A5              D7A5  ?_282
            D7CE              D7CE  ?_283
            D80D              D80D  ?_284
            D852              D852  ?_285
            D857              D857  ?_286
            D859              D859  fifo8_get
            D87A              D87A  ?_287
            D8BC              D8BC  ?_288
            D8CE              D8CE  ?_289
            D8D0              D8D0  fifo8_status
            D8E5              D8E5  strcmp
            D8FF              D8FF  ?_290
            D909              D909  ?_291
            D912              D912  ?_292
            D938              D938  ?_293
            D93B              D93B  ?_294
            D95F              D95F  ?_295
            D98A              D98A  ?_296
            D9B5              D9B5  ?_297
            D9BA              D9BA  ?_298
            D9BC              D9BC  set_segmdesc
            D9D8              D9D8  ?_299
            DA33              DA33  get_taskctl
            DA3D              DA3D  init_task_level
            DA88              DA88  ?_300
            DAA8              DAA8  ?_301
            DAB6              DAB6  task_init
            DAE9              DAE9  ?_302
            DB80              DB80  ?_303
            DB93              DB93  ?_304
            DBA4              DBA4  ?_305
            DC24              DC24  task_alloc
            DC36              DC36  ?_306
            DD43              DD43  ?_307
            DD46              DD46  ?_308
            DD55              DD55  ?_309
            DD57              DD57  task_run
            DD6C              DD6C  ?_310
            DD7F              DD7F  ?_311
            DDAB              DDAB  ?_312
            DDD1              DDD1  ?_313
            DDE0              DDE0  task_switch
            DE41              DE41  ?_314
            DE75              DE75  ?_315
            DEC9              DEC9  ?_316
            DECC              DECC  task_sleep
            DF49              DF49  ?_317
            DF4E              DF4E  task_now
            DF82              DF82  task_add
            DFCF              DFCF  task_remove
            DFFC              DFFC  ?_318
            E01F              E01F  ?_319
            E022              E022  ?_320
            E02C              E02C  ?_321
            E057              E057  ?_322
            E070              E070  ?_323
            E07C              E07C  ?_324
            E096              E096  ?_325
            E0A3              E0A3  task_switchsub
            E0B2              E0B2  ?_326
            E0D7              E0D7  ?_327
            E0E3              E0E3  ?_328
            E0E4              E0E4  ?_329
            E0FD              E0FD  send_message
            E12D              E12D  ?_330
            E135              E135  ?_331
            E142              E142  ?_332
            E149              E149  ?_333
            E151              E151  ?_334
            E153              E153  ?_335
            E159              E159  ?_336
            E15D              E15D  ?_337
            E15F              E15F  ?_338
            E167              E167  ?_339
            E178              E178  ?_340
            E17C              E17C  ?_341
            E180              E180  ?_342
            E184              E184  ?_343
            E188              E188  ?_344
            E192              E192  ?_345
            E19E              E19E  ?_346
            E1AA              E1AA  ?_347
            E1B6              E1B6  ?_348
            E1BD              E1BD  ?_349
            E1CD              E1CD  ?_350
            E1D4              E1D4  ?_351
            E1DC              E1DC  ?_352
            E1F8              E1F8  memman
            E218              E218  keytable
            E278              E278  keytable1
            E308              E308  keyval
            E30A              E30A  ?_353
            E30B              E30B  ?_354
            E310              E310  KEY_CONTROL
            E318              E318  table_rgb.2165
            E358              E358  cursor.2212
            E458              E458  closebtn.2331
            E538              E538  g_hlt
            E53C              E53C  key_shift
            E540              E540  caps_lock
            E544              E544  g_Console
            E548              E548  ?_355
            E54C              E54C  ?_356
            E550              E550  ?_357
            E554              E554  ?_358
            E555              E555  ?_359
            E558              E558  ?_360
            E55C              E55C  bootInfo
            E560              E560  ?_361
            E562              E562  ?_362
            E564              E564  keyinfo
            E57C              E57C  ?_363
            E580              E580  mouseinfo
            E5B8              E5B8  keybuf
            E5D8              E5D8  mousebuf
            E658              E658  mdec
            E664              E664  ?_364
            E668              E668  timerinfo
            E684              E684  timerbuf
            E68C              E68C  mx
            E690              E690  my
            E694              E694  xsize
            E698              E698  ysize
            E69C              E69C  buf_back
            E6B8              E6B8  buf_mouse
            E7B8              E7B8  shtMsgBox
            E7BC              E7BC  shtctl
            E7C0              E7C0  sht_back
            E7C4              E7C4  sht_mouse
            E7C8              E7C8  task_cons
            E7CC              E7CC  task_main
            E7D0              E7D0  buffer
            E7D4              E7D4  ?_365
            E7D8              E7D8  ?_366
            E7DC              E7DC  task_a.1928
            E7F8              E7F8  tss_a.1927
            E878              E878  tss_b.1926
            E8E0              E8E0  task_b.1916
            E8EC              E8EC  str.2260
            E8ED              E8ED  ?_367
            E8F6              E8F6  ?_368
            E8F8              E8F8  timerctl
            E8FC              E8FC  ?_369
            E900              E900  ?_370
            E904              E904  ?_371
            E908              E908  ?_372
           1083C             1083C  task_timer
           10840             10840  taskctl
           10846             10846  _SpuriousHandler
           10847             10847  _KeyBoardHandler
           10865             10865  _mouseHandler
           10883             10883  _timerHandler
           1089D             1089D  _stackOverFlowHandler
           108B6             108B6  _exceptionHandler
           108CF             108CF  get_font_data
           108E8             108E8  io_hlt
           108EA             108EA  io_cli
           108EC             108EC  io_sti
           108EE             108EE  io_stihlt
           108F1             108F1  io_in8
           108FC             108FC  io_in16
           10908             10908  io_in32
           1090E             1090E  io_out8
           10918             10918  io_out16
           10923             10923  io_out32
           1092D             1092D  io_load_eflags
           10930             10930  io_store_eflags
           10937             10937  get_memory_block_count
           1093D             1093D  get_leds
           10943             10943  get_adr_buffer
           10949             10949  get_addr_gdt
           1094F             1094F  get_code32_addr
           10955             10955  load_tr
           1095B             1095B  farjmp
           10966             10966  asm_cons_putchar
           10984             10984  end_app
           10988             10988  get_esp
           1098B             1098B  get_ss
           10990             10990  start_app
           109B9             109B9  asm_end_app

---- Section .data ------------------------------------------------------------

Real              Virtual           Name
           109E0             109E0  MemChkBuf
           10AE0             10AE0  dwMCRNumber
           10AE4             10AE4  LEDS

